# Servlet
## Servlet이란 무엇인가?
- 서블릿의 용어는 Server program + let (웹 서버에서 실행되는 작은 프로그램 단위) 이다.
- **클라이언트 요청을 처리하고 그 결과를 다시 클라이언트에게 전송하는 Servlet 클래스의 구현 규칙을 지킨 자바 프로그램** (클라이언트의 HTTP 요청에 대해 특정 기능을 수행, HTML문서를 생성등의 응답을 하는 인터넷 서버 프로그램)

## Servlet 컨테이너
- 서블릿을 관리해주는 놈
- 서블릿의 생명주기를 관리하고, 요청에 따른 스레드를 생성한다.
- **클라이언트의 Request 를 받아주고 Response 를 보낼 수 있게 웹서버와 소켓을 만들어서 통신**을 해준다.
### 자세한 서블릿 컨테이너의 역할
- **통신지원**  
    서블릿과 웹 서버가 통신할 수 있는 손쉬운 방법을 제공한다. 우리가 통신을 한다고 생각할 때 소켓을 만들고, 특정 포트를 리스닝하고, 연결 요청이 들어오면 스트림을 생성해서 요청을 받는다고 알고있는데 이 과정을 서블릿 컨테이너가 대신 해주는 것이다. 서블릿 컨테이너는 이런 통신 과정을 API 로 제공하고 있기 때문에 우리가 쉽게 사용할 수 있다.

- **생명주기 관리**   
    서블릿 컨테이너가 기동되는 순간 서블릿 클래스를 로딩해서 인스턴스화하고, 초기화 메서드를 호출하고, 요청이 들어오면 적절한 서블릿 메소드를 찾아서 호출한다. 만약 서블릿의 생명이 다하는 순간 가비지 컬렉션을 진행한다.

- **멀티스레딩 관리**  
    서블릿 컨테이너는 해당 서블릿의 요청이 들어오면 스레드를 생성해서 작업을 수행한다. 즉 동시의 여러 요청이 들어온다면 멀티스레딩 환경으로 동시다발적인 작업을 관리한다.
- **선언적인 보안관리**  
    서블릿 컨테이너는 보안 관련된 기능을 지원한다. 따라서 서블릿 코드 안에 보안 관련된 메소드를 구현하지 않아도 된다.
- **JSP 지원**  

## TOMCAT(톰캣)
- **서블릿 컨테이너**
- 웹 서버와 연동하여 실행할 수 있는 자바 환경을 제공하여 자바 서버 페이지(JSP)와 자바 서블릿이 실행할 수 있는 환경을 제공한다.  

### 서블릿 프로그램
<img src ="https://t1.daumcdn.net/cfile/tistory/2445804457382D9145">

## 서블릿 생명주기 (Servlet Life Cycle)
- **서블릿 생성 -> init() -> { service() -> doXxx() } -> destory() -> 서블릿 종료 ( {} 반복 )**
- 서블릿 클래스 객체가 생성되면 가장 처음에 메소드 init()이 실행된다.
- 이후 클라이언트의 요청이 들어 올 때마다 service() 메소드가 실행되어 요청에 맞는 메소드 doXxx()를 생행한다.
- 마지막으로 서버가 종료되거나 서블릿을 더 이상 사용할 필요가 없어 서블릿 객체를 메모리에서 제거할 때, 마지막으로 메소드 destory()가 실행되어 사용하던 자원을 정리하고 종료된다.
- init()과 destory()는 서블릿의 생서오가 종료시 단 한번이 실행되며 service() 메소드는 사용자의 요청이 있을 때마다 반복적으로 실행된다.
